"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),CFCMRailwayCalendar=function(){function e(t){_classCallCheck(this,e),this.initVal(t)}return _createClass(e,[{key:"getId",value:function(e){return document.getElementById(e)}},{key:"getClassAll",value:function(e){return document.querySelectorAll(e)}},{key:"remove",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"initVal",value:function(e){var t,a=(t={id:"dates",addid:"add",lessid:"less",date:!1,datelen:15,partline:"-",type:"init"},_defineProperty(t,"type","init"),_defineProperty(t,"callback",!1),t);this.cfg={},_extends(this.cfg,a,e),this.initCommonVal()}},{key:"initCommonVal",value:function(){var e=this.cfg,t=void 0,a=void 0;e.date?(t=e.date.split(" ")[0].split(e.partline),(a={}).y=t[0],a.m=t[1],a.d=t[2],e.date=this.dateFormcat(a,"ymd")):e.date=this.dateFormcat("",!1),this.cfg.showObj=this.getId(this.cfg.id),this.appendDom("init")}},{key:"appendDom",value:function(e){this.cfg.showObj.innerHTML="";var t=this.cfg,a="",n=void 0,i=void 0;switch(e){case"add":t.date=this.dateFormcat(t.date.time+864e5*t.datelen,"time");break;case"less":t.date=this.dateFormcat(t.date.time-864e5*t.datelen,"time")}for(var s=0;s<t.datelen;s++)n=t.date.time+864e5*s,i=this.dateFormcat(n,"time"),t.date.time!=i.time?a+='<span id="'+i.time+'">'+i.month+"-"+i.day+this.numTOweek(i.week)+"</span>":(t.selectedId=i.time,a+='<span class="selected" id="'+i.time+'">'+i.month+"-"+i.day+this.numTOweek(i.week)+"</span>");this.cfg.showObj.innerHTML=a,this.spanEvent()}},{key:"dateFormcat",value:function(e,t){var a={};return"ymd"==t?a.dates=new Date(e.y,e.m-1,e.d,0,0,0):t?"time"==t&&(a.dates=new Date(e)):a.dates=new Date,a.year=a.dates.getFullYear(),a.month=a.dates.getMonth()+1,a.day=a.dates.getDate(),a.week=a.dates.getDay(),a.time=a.dates.getTime(),a}},{key:"numTOweek",value:function(e){switch(e){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六"}}},{key:"spanEvent",value:function(){var e=this,t=this.cfg.showObj.querySelectorAll("span");Array.prototype.slice.call(t).forEach(function(t){t.onmouseover=function(){e.cfg.showObj.querySelector(".selected").removeAttribute("class"),this.setAttribute("class","selected")},t.onmouseout=function(){this.removeAttribute("class"),this.removeAttribute("style"),e.getId(e.cfg.selectedId).setAttribute("class","selected")},t.onclick=function(){e.cfg.selectedId=this.getAttribute("id"),"function"==typeof e.cfg.callback&&e.cfg.callback(e.dateFormcat(parseInt(this.getAttribute("id")),"time"))}}),this.getId(this.cfg.addid).onclick=function(){e.appendDom("add")},this.getId(this.cfg.lessid).onclick=function(){e.appendDom("less")}}}]),e}();
export function CFCMRailwayCalendar(param, fn) {
		return new CFCMRailwayCalendar(param, fn)
	}